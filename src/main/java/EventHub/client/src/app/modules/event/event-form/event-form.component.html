<!--
<div>
  <h1>{{isNew ? 'Add' : 'Edit'}} event</h1>

  tutaj wyswietlam id eventu: {{event.id}}

  <button class="btn" (click)="update(event)">{{isNew ? 'Add' : 'Edit'}}</button>
  <button class="btn" (click)="close()">Zamknij</button>
</div>
-->

<h2 mat-dialog-title>Create Event</h2>
<div mat-dialog-content>
  <form [formGroup]="form" (ngSubmit)="update()">
    <div class="row">
      <mat-form-field class="col my-2">
        <mat-label>Choose a start date</mat-label>
        <input matInput formControlName="startDate" [matDatepicker]="startPicker" required>
        <mat-hint>DD/MM/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="startPicker"></mat-datepicker-toggle>
        <mat-datepicker #startPicker></mat-datepicker>
      </mat-form-field>
      
      <mat-form-field class="col my-2">
        <mat-label>Choose a end date</mat-label>
        <input matInput formControlName="endDate" [matDatepicker]="endPicker" required>
        <mat-hint>DD/MM/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="endPicker"></mat-datepicker-toggle>
        <mat-datepicker #endPicker></mat-datepicker>
      </mat-form-field>
    </div>
    
    <mat-form-field class="col-12 mt-2">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" required/>
    </mat-form-field>
    
    <mat-form-field class="col-12 mt-2">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description" rows="4" required></textarea>
    </mat-form-field>

    <div class="mb-3">
      <label for="formFileMultiple" class="form-label">Select attachments (photos)</label>
      <div class="d-flex flex-row">
        <input class="form-control" type="file" id="formFileMultiple" accept="image/*" (change)="onFileChange($event)" multiple>
        <button class="btn" (click)="clear()">CLEAR</button>
      </div>
    </div>
    <button class="btn mr-3" *ngFor="let attachment of attachments; let i = index" (click)="openPhoto(attachment.image, attachment.fileName)">
      {{attachment.fileName}}
    </button>
    <div mat-dialog-actions class="leave-buttons">
      <button mat-button class="btn mr-3" (click)="dialogRef.close()">Cancel</button>
      <button mat-flat-button class="btn" type="submit">Submit</button>
    </div>
  </form>
</div>